(function(){self.JSREPLEngine=function(){function a(b,a,c,e,d,f){this.result=c;this.error=e;d.print=function(){};this.error_buffer=[];this.Lua=d.Lua;b=function(b){return function(a){if(a!=null)return b.error_buffer.push(String.fromCharCode(a))}}(this);this.Lua.initialize(null,makeUtf8Print(a),b);f()}a.prototype.Eval=function(b){var a;this.error_buffer=[];try{return a=this.Lua.eval(encodeUtf8(b)),this.error_buffer.length?this.error(this.error_buffer.join("")):this.result(a)}catch(c){return this.error("Internal error: "+
c)}};a.prototype.EvalSync=function(a){this.error_buffer=[];a=this.Lua.eval(encodeUtf8(a));if(this.error_buffer.length)throw this.error_buffer.join("");return a};a.prototype.GetNextLineIndent=function(a){return this.Lua.isFinished(a)?false:0};return a}()}).call(this);

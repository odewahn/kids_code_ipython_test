(function(){self.JSREPLEngine=function(){function g(a,c,j,k,d,b){this.result=j;this.error=k;this.sandbox=d;this.result_fn_factory=function(){return function(b){return function(a,f){var h,d,e,c;e=a.map(function(b){return b});e.length=e.length<f?f+1:e.length;for(h=d=0,c=e.length;d<c;h=++d)e[h]||(e[h]=0);f<10?h=0:(h=f-10,e[h]="..."+e[h]);e[f]||(e[f]=0);d=e.slice(h,f);e[f+10]!=null&&(e[f+10]+="...");h=e.slice(f+1,+(f+10)+1||9E9);return b(d.concat(["["+e[f]+"]"]).concat(h).join(" "))}}}(this);this.result_handler=
this.result_fn_factory(this.result);this.BFI=new this.sandbox.BF.Interpreter(a,c,this.result_handler);b()}g.prototype.Eval=function(a){try{return a==="SHOWTAPE"?(this.BFI.result=function(a){return function(c,d){var b,i,g,f;b=c.map(function(b){return b});b.length=b.length<d?d+1:b.length;for(i=g=0,f=b.length;g<f;i=++g)b[i]||(b[i]=0);b[d]||(b[d]=0);b[d]="["+b[d]+"]";return a.result(b.join(" "))}}(this),this.BFI.evaluate(""),this.BFI.result=this.result_handler):a.match(/^RESET\b/)?(this.BFI.reset(),this.BFI.evaluate(a.replace(/^RESET/,
""))):this.BFI.evaluate(a)}catch(c){return this.error(c)}};g.prototype.EvalSync=function(a){var c;c=null;this.BFI.result=this.result_fn_factory(function(a){return c=a});this.BFI.evaluate(a);this.BFI.result=this.result_handler;return c};g.prototype.GetNextLineIndent=function(a){var c;c=function(){return function(a){var c,d,b,g;d=a.split("");a=0;for(b=0,g=d.length;b<g;b++)switch(c=d[b],c){case "[":++a;break;case "]":--a}return a}}(this);return c(a)<=0?false:(a=c(a.split("\n").slice(-1)[0]),a>0?1:a<
0?a:0)};return g}()}).call(this);
